<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Api reference</title>
    <link rel="stylesheet" href="/css/main.css">
</head>
<body>

<p>Хэндлеры</p>
<ul>
  <li>/registration</li>
  <li>/user</li>
  <li>/signin</li>
  <li>/notify</li>
  <li>/exchange</li>
  <li>/api</li>
  <li>/captcha</li>
  <li>/dashboard</li>
  <li>/priv</li>
</ul>
<p> О языке </p>
<pre>
	Для того что бы выставить язык там где нету сессии используйте GET параметр lang. Пример. ?...&lang=ru_RU 
	?...&lang=en_EN
	Для тех страниц где используется сессия нужно выставлять язык для пользователя
 /user/?w=changeLanguage&lang=en_US или /user/?w=changeLanguage&lang=ru_RU
внимания, уведомления остаются на том языке, на котором они были при получение.
	или /user/?changeLanguage=ru_RU
	Для списка всех поддерживаемых языков используйте страницу /api/?w=getSupportsLanguage
</pre>
<p>Регистрация</p>
<p>Параметры:</p>
<ol>
    <li>Имя майнера (workname)</li>
    <li>Пароль майнера (workpass)</li>
    <li>Пароль для подтверждения (workpass2)</li>
    <li>Капча (captchaText)</li>
</ol>
<p>signin:</p>
<p>parameters:</p>
<ol>
    <li>Имя майнера (workname)</li>
    <li>Пароль майнера (workpass)</li>
    <li>OTPCode код OTP (code) [[disabled]]</li>
    <li>Капча (captchaText)</li>
</ol>
<p>user:</p>
<p>(нужна сессия):</p>
<pre>
    поддерживает = getowninput, genAddress, updateSession, changePassword, checkOTP, genOTP, setOTP, GetQR, outByOTP
    getowninput - возвращает входящий адрес для криптовалюты ?cryptocoin пример /user?w=getowninput&cryptocoin=bitcoin
    genAddress - генерирует новый адрес для криптовалюты ?cryptocoin пример /user?w=genAddress&cryptocoin=gostcoin
    updateSession - обновляет сессию. если не обновлять сессии, то они устаревают.
    changePassword - для смены пароля ?w=changePassword&last_pass={userlastpassword}&new_pass={new password of user}

/user/?w=setOTP&otp=ZSM6TF66FPZ7WX57VGJQHGP22CRJZ6TV&code=138862
Где код это последний код
/user/?w=setOTP&otp=ZSM6TF66FPZ7WX57VGJQHGP22CRJZ6TV
/user/?w=GetQR&otp=ZSM6TF66FPZ7WX57VGJQHGP22CRJZ6TV
/user/?w=genOTP
/user/?w=outByOTP&code=666999&oAdr=mraKgrx4QKTrrWpiAXKke9VQx2bRR3uU9B&cMoney=1.0&coinname=gostcoin
    по умолчанию вовзаращет все входящие адреса пользователя, и так же балансы
</pre>
<p>notify:</p>
<p>(нужна сессия):</p>
<pre>
    getByTime - возвращает уведомления что старше времени в миллисекундах. пример /notify?w=getByTime&t=304003040340
    offset - оффсет, для пропуска.
    lim - лимит. от 5 до 25
    по умолчанию возвращает последних 5 уведомлений за 24 часа.
    /notify/?w=get&lim=25&offset=0

</pre>
<p>exchange:</p>
<p>(нужна сессия):</p>
<pre>
  ...
  getLastDoneTrades, getMyDoneTrade, getMyReviews, getTraderStats, addReview, doTrade, changeActiveOrder, removeMyOrderByID
  ,getOwnOrders, getComissionPercent, getOrders, addOrderToSellCoin2Coin
</pre>
<p>api:</p>
<p>(нужна сессия):</p>
<pre>
    w parameters - getbalance, getallowcoins, output, BitcoinBroadcast, ReserveGet,
    getbalance - возвращает баланс пользователя [[ Должно быть в будующем запрещено не для привилигированных ]]
    getallowcoins - возвращает список криптовалют поддерживаемых сервером
    output - Вывод средств. Параметры: acc - логин аккаунта, pass - пароль пользователя, oAdr - адрес получателя, cMoney - кол-во для отправки, coinname - название криптовалюты
    example: ?w=output&acc=testusername&pass=testusername&oAdr=mraKgrx4QKTrrWpiAXKke9VQx2bRR3uU9B&cMoney=1.0&coinname=gostcoin
    UPD: В настоящее время ещё нужен параметр captchaText
    BitcoinBroadcast - добавление транзакции биткоина в сеть. пример ?w=BitcoinBroadcast&tx=Транзакция
    ReserveGet - Резерв сервера. в будующем будет доступно только привилигированным
</pre>
<p>captcha:</p>
<p>(нужна сессия):</p>
<pre>
    w parameters - возвращает капчу для пользователя. пример /captcha/?w=get
    answerTest - только для теста. пример  ?w=answerTest&a=pJXhEEHIKy
</pre>
<p>priv</p>
changeUserPriv, removeOrderByID, getOrderByName, getReviewsByReviewer, getReviewsByAbout, getbalance
<pre>
</pre>
<p>dashboard:</p>
<pre>
    Возвращает информацию о состояние пула.
</pre>
<p>дополнительные параметры</p>
<pre>
К "гетерам" где может быть большой вывод добавлен offset и lim. ?...&offset=22&lim=25 
Могут вовзращать значения в обратном порядке, не обязательно использовать offset и lim
</pre>
<div id="footer"></div>
<!-- scripts -->
<script src="/js/jquery.js" type="text/javascript"></script>
<script src="/js/cursor.js" type="text/javascript"></script>
<script src="/js/functions.js" type="text/javascript"></script>
</body>
</html>